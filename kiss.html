<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kiss ðŸ’‹</title>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<style>
body{margin:0;background:#000;height:100vh;display:flex;justify-content:center;align-items:center;font-family:Arial}
#wrap{position:relative;width:900px;height:500px}
video{position:absolute;left:0;width:450px;height:500px;object-fit:cover;transform:scaleX(-1)}
#me{position:absolute;right:0;width:450px;height:500px;object-fit:cover}
#kiss{position:absolute;font-size:56px;display:none;filter:drop-shadow(0 0 14px hotpink)}
#hint{position:absolute;top:-40px;width:100%;text-align:center;color:#fff}
#overlay{position:absolute;inset:0;background:rgba(0,0,0,.75);display:none;
align-items:center;justify-content:center;color:#fff;font-size:28px}
button{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);
padding:10px 30px;border:0;border-radius:30px;background:#ff2e63;color:#fff;font-size:18px}
</style>
</head>

<body>
<div id="wrap">
  <div id="hint">Give a kiss ðŸ’‹ and close your eyes for 10 seconds</div>
  <video id="v" autoplay muted playsinline></video>
  <img id="me" src="myphoto.jpg">
  <div id="kiss">ðŸ’‹</div>
  <div id="overlay">Keep eyes closedâ€¦ <span id="c">10</span></div>
  <button onclick="doKiss()">KISS ðŸ˜˜</button>
</div>

<script>
/*** ðŸ‘‰ðŸ‘‰ APNA WHATSAPP NUMBER YAHAN DAALO (country code ke saath) ***/
const WA_NUMBER = "91XXXXXXXXXX"; // example: 919876543210

const v=document.getElementById('v'), kiss=document.getElementById('kiss'),
ov=document.getElementById('overlay'), c=document.getElementById('c');
let lipX=700, lipY=250;

// camera
navigator.mediaDevices.getUserMedia({video:true}).then(s=>v.srcObject=s);

// FaceMesh (lips)
const fm=new FaceMesh({locateFile:f=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${f}`});
fm.setOptions({maxNumFaces:1,refineLandmarks:true});
fm.onResults(r=>{
  if(!r.multiFaceLandmarks) return;
  const f=r.multiFaceLandmarks[0], u=f[13], l=f[14];
  // RIGHT image area (my photo side)
  lipX=((u.x+l.x)/2)*450+450;
  lipY=((u.y+l.y)/2)*500;
});
const cam=new Camera(v,{onFrame:async()=>fm.send({image:v}),width:450,height:500});
cam.start();

function doKiss(){
  // ðŸ’‹ static on lips (no movement)
  kiss.style.left=lipX+'px';
  kiss.style.top =lipY+'px';
  kiss.style.display='block';

  // 10s eyes-closed illusion
  ov.style.display='flex';
  let t=10; c.textContent=t;
  const id=setInterval(()=>{
    t--; c.textContent=t;
    if(t<=0){
      clearInterval(id);
      // Auto-open WhatsApp app (mobile)
      location.href = `whatsapp://call?phone=${WA_NUMBER}`;
      // Fallback to web (if app scheme fails)
      setTimeout(()=>{ location.href = `https://wa.me/${WA_NUMBER}`; }, 800);
    }
  },1000);
}
</script>
</body>
</html>
